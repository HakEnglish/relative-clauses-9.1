<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Interactive Quiz - Relative Clauses</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fade-in {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
      animation: fade-in 0.3s ease-out forwards;
    }
    body {
      background-color: #f0f4f8;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    //============= Data ==============
    const quizData = [
        {
            id: 1,
            question: "Sunday is the day .......... I go to Water park with my kids.",
            translation: "Chủ nhật là ngày .......... tôi đi công viên nước với các con.",
            options: [
                { id: "A", text: "when" },
                { id: "B", text: "where" },
                { id: "C", text: "why" },
                { id: "D", text: "which" },
            ],
            correctAnswer: "A",
            hint: "Trạng từ quan hệ chỉ thời gian.",
            explanation: "Dùng 'when' để thay thế cho danh từ chỉ thời gian 'the day'.",
            type: "single-choice",
        },
        {
            id: 2,
            question: "That was the reason .......... he didn't marry her.",
            translation: "Đó là lý do .......... anh ấy không cưới cô ta.",
            options: [
                { id: "A", text: "when" },
                { id: "B", text: "where" },
                { id: "C", text: "why" },
                { id: "D", text: "which" },
            ],
            correctAnswer: "C",
            hint: "Trạng từ quan hệ chỉ lý do.",
            explanation: "Dùng 'why' để thay thế cho danh từ chỉ lý do 'the reason'.",
            type: "single-choice",
        },
        {
            id: 3,
            question: "An architect is someone .......... designs buildings.",
            translation: "Kiến trúc sư là người .......... thiết kế các tòa nhà.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ người, làm chủ ngữ.",
            explanation: "Dùng 'who' để thay thế cho danh từ chỉ người 'someone' và làm chủ ngữ cho động từ 'designs'.",
            type: "single-choice",
        },
        {
            id: 4,
            question: "The boy to .......... I lent my money is poor.",
            translation: "Cậu bé .......... tôi cho mượn tiền thì nghèo.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ người, làm tân ngữ sau giới từ.",
            explanation: "Dùng 'whom' để thay thế cho danh từ chỉ người 'The boy' và làm tân ngữ cho giới từ 'to'.",
            type: "single-choice",
        },
        {
            id: 5,
            question: "The land and the people .......... I have met are nice.",
            translation: "Vùng đất và những con người .......... tôi đã gặp đều dễ mến.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "D",
            hint: "Đại từ quan hệ chỉ cả người và vật.",
            explanation: "Khi danh từ phía trước bao gồm cả người ('the people') và vật ('The land'), ta dùng 'that'.",
            type: "single-choice",
        },
        {
            id: 6,
            question: "I can answer the question .......... you say is very difficult.",
            translation: "Tôi có thể trả lời câu hỏi .......... bạn nói là rất khó.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "who" },
                { id: "C", text: "whom" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ vật, làm tân ngữ.",
            explanation: "Dùng 'which' để thay thế cho danh từ chỉ vật 'the question'.",
            type: "single-choice",
        },
        {
            id: 7,
            question: "This is the place .......... the battle took place ten years ago.",
            translation: "Đây là nơi .......... trận chiến đã diễn ra mười năm trước.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "in where" },
                { id: "C", text: "where" },
                { id: "D", text: "from where" },
            ],
            correctAnswer: "C",
            hint: "Trạng từ quan hệ chỉ nơi chốn.",
            explanation: "Dùng 'where' để thay thế cho danh từ chỉ nơi chốn 'the place'. 'Where' tương đương với 'in/at which'.",
            type: "single-choice",
        },
        {
            id: 8,
            question: "Sunday is the day .......... which we usually go fishing.",
            translation: "Chủ nhật là ngày .......... chúng tôi thường đi câu cá.",
            options: [
                { id: "A", text: "during" },
                { id: "B", text: "at" },
                { id: "C", text: "in" },
                { id: "D", text: "on" },
            ],
            correctAnswer: "D",
            hint: "Giới từ đi với ngày trong tuần.",
            explanation: "Cụm từ 'go fishing on Sunday' (đi câu cá vào Chủ nhật) yêu cầu giới từ 'on'. Mệnh đề quan hệ đầy đủ là 'on which'.",
            type: "single-choice",
        },
        {
            id: 9,
            question: "This is the last time .......... I speak to you.",
            translation: "Đây là lần cuối cùng .......... tôi nói chuyện với bạn.",
            options: [
                { id: "A", text: "of which" },
                { id: "B", text: "whose" },
                { id: "C", text: "that" },
                { id: "D", text: "which" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ 'that' thường được dùng sau các cụm từ so sánh nhất hoặc các từ như 'the last', 'the only'.",
            explanation: "Sau 'the last time', chúng ta thường dùng 'that' trong mệnh đề quan hệ.",
            type: "single-choice",
        },
        {
            id: 10,
            question: "He talked about the books and the authors .......... interested him.",
            translation: "Anh ấy đã nói về những cuốn sách và tác giả .......... đã làm anh ấy hứng thú.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "that" },
                { id: "C", text: "which" },
                { id: "D", text: "whom" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ cả người và vật.",
            explanation: "Khi danh từ phía trước bao gồm cả người ('the authors') và vật ('the books'), ta dùng 'that'.",
            type: "single-choice",
        },
        {
            id: 11,
            question: "Bondi is the beautiful beach .......... I used to sunbathe.",
            translation: "Bondi là bãi biển xinh đẹp .......... tôi từng tắm nắng.",
            options: [
                { id: "A", text: "when" },
                { id: "B", text: "where" },
                { id: "C", text: "which" },
                { id: "D", text: "why" },
            ],
            correctAnswer: "B",
            hint: "Trạng từ quan hệ chỉ nơi chốn.",
            explanation: "Dùng 'where' để chỉ nơi chốn 'the beautiful beach'. Câu đầy đủ có thể là 'I used to sunbathe at the beach'.",
            type: "single-choice",
        },
        {
            id: 12,
            question: "Dec 26th, 05 was the day .......... the terrible tsunami happened.",
            translation: "Ngày 26 tháng 12 năm 05 là ngày .......... thảm họa sóng thần kinh hoàng đã xảy ra.",
            options: [
                { id: "A", text: "when" },
                { id: "B", text: "where" },
                { id: "C", text: "which" },
                { id: "D", text: "why" },
            ],
            correctAnswer: "A",
            hint: "Trạng từ quan hệ chỉ thời gian.",
            explanation: "Dùng 'when' để chỉ thời gian 'the day'.",
            type: "single-choice",
        },
        {
            id: 13,
            question: "The woman .......... lives next my door is a doctor.",
            translation: "Người phụ nữ .......... sống cạnh nhà tôi là một bác sĩ.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ người, làm chủ ngữ.",
            explanation: "Dùng 'who' để thay thế cho 'The woman' và làm chủ ngữ cho động từ 'lives'.",
            type: "single-choice",
        },
        {
            id: 14,
            question: "The boy .......... Mary likes is my son.",
            translation: "Cậu bé .......... Mary thích là con trai tôi.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ người, làm tân ngữ.",
            explanation: "Dùng 'whom' để thay thế cho 'The boy' và làm tân ngữ cho động từ 'likes' (Mary likes the boy). Có thể dùng 'that' hoặc bỏ đi trong văn nói.",
            type: "single-choice",
        },
        {
            id: 15,
            question: "The boy .......... eyes are brown is my son.",
            translation: "Cậu bé .......... có đôi mắt màu nâu là con trai tôi.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "D",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Dùng 'whose' để chỉ sự sở hữu (đôi mắt của cậu bé - his eyes).",
            type: "single-choice",
        },
        {
            id: 16,
            question: "The table .......... legs are broken should be repaired.",
            translation: "Cái bàn .......... có những cái chân bị gãy cần được sửa chữa.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "D",
            hint: "Đại từ quan hệ chỉ sự sở hữu cho cả người và vật.",
            explanation: "Dùng 'whose' để chỉ sự sở hữu cho vật (những cái chân của cái bàn - its legs).",
            type: "single-choice",
        },
        {
            id: 17,
            question: "The town .......... we are living is noisy and crowded.",
            translation: "Thị trấn .......... chúng tôi đang sống thì ồn ào và đông đúc.",
            options: [
                { id: "A", text: "where" },
                { id: "B", text: "in where" },
                { id: "C", text: "which" },
                { id: "D", text: "at which" },
            ],
            correctAnswer: "A",
            hint: "Trạng từ quan hệ chỉ nơi chốn. 'where' = 'in/at which'.",
            explanation: "Dùng 'where' để thay thế cho nơi chốn 'The town' (we are living in the town). 'in where' là sai ngữ pháp.",
            type: "single-choice",
        },
        {
            id: 18,
            question: "The year .......... we came to live here was 1997.",
            translation: "Năm .......... chúng tôi đến sống ở đây là năm 1997.",
            options: [
                { id: "A", text: "when" },
                { id: "B", text: "which" },
                { id: "C", text: "that" },
                { id: "D", text: "in the time" },
            ],
            correctAnswer: "A",
            hint: "Trạng từ quan hệ chỉ thời gian.",
            explanation: "Dùng 'when' để chỉ thời gian 'The year' (we came to live here in that year).",
            type: "single-choice",
        },
        {
            id: 19,
            question: "The worker .......... house is next to mine died this morning.",
            translation: "Người công nhân .......... có nhà ở cạnh nhà tôi đã mất sáng nay.",
            options: [
                { id: "A", text: "whose" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "whose" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Dùng 'whose' để chỉ sự sở hữu (nhà của người công nhân - his house).",
            type: "single-choice",
        },
        {
            id: 20,
            question: "The lady .......... son went on a picnic with us last weekend is a teacher at our school.",
            translation: "Người phụ nữ .......... có con trai đi dã ngoại với chúng tôi cuối tuần trước là một giáo viên ở trường chúng tôi.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "whose" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Dùng 'whose' để chỉ sự sở hữu (con trai của người phụ nữ - her son).",
            type: "single-choice",
        },
        {
            id: 21,
            question: "Take .......... measures you consider best.",
            translation: "Hãy thực hiện .......... biện pháp mà bạn cho là tốt nhất.",
            options: [
                { id: "A", text: "whatever" },
                { id: "B", text: "however" },
                { id: "C", text: "whenever" },
                { id: "D", text: "which" },
            ],
            correctAnswer: "A",
            hint: "Bất cứ biện pháp nào.",
            explanation: "'Whatever' có nghĩa là 'bất cứ thứ gì', trong trường hợp này là 'bất cứ biện pháp nào'.",
            type: "single-choice",
        },
        {
            id: 22,
            question: ".......... difficulties you may encounter, I'm sure you'll succeed.",
            translation: ".......... khó khăn bạn có thể gặp phải, tôi chắc chắn bạn sẽ thành công.",
            options: [
                { id: "A", text: "how" },
                { id: "B", text: "whatever" },
                { id: "C", text: "however" },
                { id: "D", text: "how great" },
            ],
            correctAnswer: "B",
            hint: "Bất kể khó khăn gì.",
            explanation: "'Whatever difficulties' có nghĩa là 'bất kể khó khăn nào'. 'However' thường đi với tính từ hoặc trạng từ (ví dụ: however difficult).",
            type: "single-choice",
        },
        {
            id: 23,
            question: "He is the only friend .......... I like.",
            translation: "Anh ấy là người bạn duy nhất .......... tôi thích.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "that" },
                { id: "D", text: "all" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ 'that' thường được dùng sau 'the only'.",
            explanation: "Sau 'the only', chúng ta thường dùng 'that' trong mệnh đề quan hệ.",
            type: "single-choice",
        },
        {
            id: 24,
            question: "I didn't get the job .......... which I applied.",
            translation: "Tôi đã không nhận được công việc .......... mà tôi đã ứng tuyển.",
            options: [
                { id: "A", text: "in" },
                { id: "B", text: "on" },
                { id: "C", text: "at" },
                { id: "D", text: "for" },
            ],
            correctAnswer: "D",
            hint: "Giới từ đi với 'apply'.",
            explanation: "Động từ 'apply' đi với giới từ 'for' (apply for a job). Do đó, mệnh đề quan hệ đầy đủ là 'for which'.",
            type: "single-choice",
        },
        {
            id: 25,
            question: "The man .......... whom she is married has been married twice before.",
            translation: "Người đàn ông .......... cô ấy kết hôn đã từng kết hôn hai lần trước đó.",
            options: [
                { id: "A", text: "in" },
                { id: "B", text: "on" },
                { id: "C", text: "at" },
                { id: "D", text: "to" },
            ],
            correctAnswer: "D",
            hint: "Giới từ đi với 'married'.",
            explanation: "Cụm từ 'be married to someone'. Do đó, mệnh đề quan hệ đầy đủ là 'to whom'.",
            type: "single-choice",
        },
        {
            id: 26,
            question: "I wasn't interested in the things .......... which they were talking.",
            translation: "Tôi không hứng thú với những điều .......... họ đang nói.",
            options: [
                { id: "A", text: "in" },
                { id: "B", text: "on" },
                { id: "C", text: "at" },
                { id: "D", text: "about" },
            ],
            correctAnswer: "D",
            hint: "Giới từ đi với 'talk'.",
            explanation: "Cụm từ 'talk about something'. Do đó, mệnh đề quan hệ đầy đủ là 'about which'.",
            type: "single-choice",
        },
        {
            id: 27,
            question: "The bed .......... which I slept was too soft.",
            translation: "Cái giường .......... tôi đã ngủ thì quá mềm.",
            options: [
                { id: "A", text: "in" },
                { id: "B", text: "on" },
                { id: "C", text: "at" },
                { id: "D", text: "for" },
            ],
            correctAnswer: "A",
            hint: "Giới từ chỉ vị trí ngủ.",
            explanation: "Chúng ta 'sleep in a bed'. Do đó, mệnh đề quan hệ đầy đủ là 'in which'.",
            type: "single-choice",
        },
        {
            id: 28,
            question: "The party .......... which we went wasn't very enjoyable.",
            translation: "Bữa tiệc .......... chúng tôi đã đến không vui lắm.",
            options: [
                { id: "A", text: "in" },
                { id: "B", text: "on" },
                { id: "C", text: "at" },
                { id: "D", text: "to" },
            ],
            correctAnswer: "D",
            hint: "Giới từ đi với 'go'.",
            explanation: "Chúng ta 'go to a party'. Do đó, mệnh đề quan hệ đầy đủ là 'to which'.",
            type: "single-choice",
        },
        {
            id: 29,
            question: "The flight .......... which we wanted to travel was fully booked.",
            translation: "Chuyến bay .......... chúng tôi muốn đi đã được đặt hết chỗ.",
            options: [
                { id: "A", text: "in" },
                { id: "B", text: "on" },
                { id: "C", text: "at" },
                { id: "D", text: "for" },
            ],
            correctAnswer: "B",
            hint: "Giới từ đi với 'travel on a flight'.",
            explanation: "Chúng ta 'travel on a flight'. Do đó, mệnh đề quan hệ đầy đủ là 'on which'.",
            type: "single-choice",
        },
        {
            id: 30,
            question: "She is the most beautiful girl .......... ever lived.",
            translation: "Cô ấy là cô gái xinh đẹp nhất .......... từng sống.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "whom" },
                { id: "C", text: "whose" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "D",
            hint: "Đại từ quan hệ 'that' thường được dùng sau so sánh nhất.",
            explanation: "Sau so sánh nhất 'the most beautiful girl', chúng ta thường dùng 'that'.",
            type: "single-choice",
        },
        {
            id: 31,
            question: "The decision was postponed, .......... was exactly what he wanted.",
            translation: "Quyết định đã bị hoãn lại, .......... đó chính xác là điều anh ấy muốn.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ thay thế cho cả một mệnh đề đứng trước.",
            explanation: "Dùng 'which' để thay thế cho cả mệnh đề 'The decision was postponed'. Lưu ý phải có dấu phẩy trước 'which' trong trường hợp này.",
            type: "single-choice",
        },
        {
            id: 32,
            question: "All the people .......... have gone into the room are still young.",
            translation: "Tất cả những người .......... đã vào phòng vẫn còn trẻ.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "whom" },
                { id: "C", text: "whose" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "D",
            hint: "Đại từ quan hệ 'that' thường được dùng sau 'all'.",
            explanation: "Sau các đại từ bất định như 'all', 'some', 'any', 'none', chúng ta thường dùng 'that'.",
            type: "single-choice",
        },
        {
            id: 33,
            question: "Jack has three brothers, all of .......... are married.",
            translation: "Jack có ba người anh em trai, tất cả .......... đều đã kết hôn.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ người, làm tân ngữ sau giới từ 'of'.",
            explanation: "Trong cấu trúc 'all of ...', ta phải dùng 'whom' cho người hoặc 'which' cho vật. Ở đây là người ('brothers'), nên đáp án là 'whom'.",
            type: "single-choice",
        },
        {
            id: 34,
            question: "They gave us a lot of information, most of .......... was useless.",
            translation: "Họ đã cho chúng tôi rất nhiều thông tin, hầu hết .......... đều vô dụng.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ chỉ vật, làm tân ngữ sau giới từ 'of'.",
            explanation: "Trong cấu trúc 'most of ...', ta phải dùng 'which' cho vật. Ở đây là vật ('information'), nên đáp án là 'which'.",
            type: "single-choice",
        },
        {
            id: 35,
            question: "There were a lot of people at the party, only a few of .......... I had met before.",
            translation: "Có rất nhiều người ở bữa tiệc, chỉ một vài người trong số đó .......... tôi đã gặp trước đây.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "them" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ người, làm tân ngữ sau giới từ 'of'.",
            explanation: "Trong cấu trúc 'a few of ...', ta phải dùng 'whom' cho người. Ở đây là người ('people'), nên đáp án là 'whom'.",
            type: "single-choice",
        },
        {
            id: 36,
            question: "I have sent him two letters, neither of .......... has arrived.",
            translation: "Tôi đã gửi cho anh ấy hai lá thư, không lá nào trong số đó .......... đã đến.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "them" },
                { id: "C", text: "which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ chỉ vật, làm tân ngữ sau giới từ 'of'.",
            explanation: "Trong cấu trúc 'neither of ...', ta phải dùng 'which' cho vật. Ở đây là vật ('letters'), nên đáp án là 'which'.",
            type: "single-choice",
        },
        {
            id: 37,
            question: "John won $600, half of .......... he gave to his parents.",
            translation: "John đã thắng 600 đô la, một nửa trong số đó .......... anh ấy đã đưa cho bố mẹ.",
            options: [
                { id: "A", text: "whom" },
                { id: "B", text: "which" },
                { id: "C", text: "that" },
                { id: "D", text: "it" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ vật, làm tân ngữ sau giới từ 'of'.",
            explanation: "Trong cấu trúc 'half of ...', ta phải dùng 'which' cho vật. Ở đây là vật ('$600'), nên đáp án là 'which'.",
            type: "single-choice",
        },
        {
            id: 38,
            question: "Ten people applied for the job, none of .......... were suitable.",
            translation: "Mười người đã ứng tuyển vào công việc, không ai trong số họ .......... phù hợp.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "them" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ người, làm tân ngữ sau giới từ 'of'.",
            explanation: "Trong cấu trúc 'none of ...', ta phải dùng 'whom' cho người. Ở đây là người ('people'), nên đáp án là 'whom'.",
            type: "single-choice",
        },
        {
            id: 39,
            question: "Jill isn't on the phone, .......... makes it difficult to contact her.",
            translation: "Jill không nghe điện thoại, .......... điều đó khiến việc liên lạc với cô ấy trở nên khó khăn.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "what" },
                { id: "C", text: "who" },
                { id: "D", text: "it" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ thay thế cho cả một mệnh đề đứng trước.",
            explanation: "Dùng 'which' để thay thế cho cả mệnh đề 'Jill isn't on the phone'. Lưu ý phải có dấu phẩy trước 'which' trong trường hợp này.",
            type: "single-choice",
        },
        {
            id: 40,
            question: "Bob is the kind of person to .......... one can talk about anything.",
            translation: "Bob là kiểu người mà người ta có thể nói chuyện về bất cứ điều gì ..........",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whom" },
                { id: "C", text: "that" },
                { id: "D", text: "him" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ người, làm tân ngữ sau giới từ.",
            explanation: "Câu gốc là 'one can talk to him about anything'. Khi chuyển thành mệnh đề quan hệ, 'him' được thay bằng 'whom'. Giới từ 'to' được đặt trước 'whom'.",
            type: "single-choice",
        },
        {
            id: 41,
            question: "He is a person .......... friends trust him.",
            translation: "Anh ấy là một người .......... bạn bè tin tưởng.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "whose" },
                { id: "C", text: "his" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Cấu trúc 'whose + danh từ' (whose friends) để chỉ 'bạn bè của anh ấy'.",
            type: "single-choice",
        },
        {
            id: 42,
            question: "Your career should focus on a field in .......... you are genuinely interested.",
            translation: "Sự nghiệp của bạn nên tập trung vào một lĩnh vực mà .......... bạn thực sự quan tâm.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "what" },
                { id: "C", text: "that" },
                { id: "D", text: "why" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ vật, làm tân ngữ sau giới từ.",
            explanation: "Cụm từ 'be interested in something'. Giới từ 'in' được đặt trước đại từ quan hệ 'which' (in which).",
            type: "single-choice",
        },
        {
            id: 43,
            question: "People .......... outlook on life is optimistic are usually happy people.",
            translation: "Những người .......... có cái nhìn lạc quan về cuộc sống thường là những người hạnh phúc.",
            options: [
                { id: "A", text: "whose" },
                { id: "B", text: "whom" },
                { id: "C", text: "that" },
                { id: "D", text: "which" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Cấu trúc 'whose + danh từ' (whose outlook) để chỉ 'cái nhìn của họ'.",
            type: "single-choice",
        },
        {
            id: 44,
            question: "Anna's marriage has been arranged by her family. She is marrying a man ..........",
            translation: "Hôn nhân của Anna đã được gia đình sắp đặt. Cô ấy sẽ cưới một người đàn ông ..........",
            options: [
                { id: "A", text: "that she hardly knows him" },
                { id: "B", text: "whom she hardly knows him" },
                { id: "C", text: "she hardly knows" },
                { id: "D", text: "which she hardly knows" },
            ],
            correctAnswer: "C",
            hint: "Rút gọn mệnh đề quan hệ khi đại từ quan hệ làm tân ngữ.",
            explanation: "Mệnh đề đầy đủ là 'whom she hardly knows'. Trong mệnh đề quan hệ xác định, ta có thể lược bỏ đại từ quan hệ khi nó làm tân ngữ. Các đáp án A và B sai vì thừa 'him'.",
            type: "single-choice",
        },
        {
            id: 45,
            question: "They said they didn't have any money, ........... was a pity.",
            translation: "Họ nói rằng họ không có tiền, ........... thật đáng tiếc.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "that" },
                { id: "C", text: "this" },
                { id: "D", text: "it" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ thay thế cho cả một mệnh đề đứng trước.",
            explanation: "Dùng 'which' để thay thế cho cả mệnh đề 'they didn't have any money'. Lưu ý phải có dấu phẩy trước 'which' trong trường hợp này.",
            type: "single-choice",
        },
        {
            id: 46,
            question: "I haven't got a passport, ........... means I can't leave my country.",
            translation: "Tôi không có hộ chiếu, ........... điều đó có nghĩa là tôi không thể rời khỏi đất nước của mình.",
            options: [
                { id: "A", text: "it" },
                { id: "B", text: "that" },
                { id: "C", text: "this" },
                { id: "D", text: "which" },
            ],
            correctAnswer: "D",
            hint: "Đại từ quan hệ thay thế cho cả một mệnh đề đứng trước.",
            explanation: "Dùng 'which' để thay thế cho cả mệnh đề 'I haven't got a passport'. Lưu ý phải có dấu phẩy trước 'which' trong trường hợp này.",
            type: "single-choice",
        },
        {
            id: 47,
            question: "The part of town where I live is very noisy at night, ........... makes it difficult to sleep.",
            translation: "Khu vực của thị trấn nơi tôi sống rất ồn ào vào ban đêm, ........... điều đó khiến tôi khó ngủ.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "where" },
                { id: "C", text: "that" },
                { id: "D", text: "this" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ thay thế cho cả một mệnh đề đứng trước.",
            explanation: "Dùng 'which' để thay thế cho cả mệnh đề 'The part of town where I live is very noisy at night'. Lưu ý phải có dấu phẩy trước 'which' trong trường hợp này.",
            type: "single-choice",
        },
        {
            id: 48,
            question: "That is the place .......... the accident occurred.",
            translation: "Đó là nơi .......... tai nạn đã xảy ra.",
            options: [
                { id: "A", text: "where" },
                { id: "B", text: "which" },
                { id: "C", text: "on which" },
                { id: "D", text: "that" },
            ],
            correctAnswer: "A",
            hint: "Trạng từ quan hệ chỉ nơi chốn.",
            explanation: "Dùng 'where' để chỉ nơi chốn 'the place'.",
            type: "single-choice",
        },
        {
            id: 49,
            question: "The boys .......... tennis over there are my new neighbor.",
            translation: "Những cậu bé .......... đang chơi quần vợt ở đằng kia là hàng xóm mới của tôi.",
            options: [
                { id: "A", text: "who plays" },
                { id: "B", text: "playing" },
                { id: "C", text: "that playing" },
                { id: "D", text: "are playing" },
            ],
            correctAnswer: "B",
            hint: "Rút gọn mệnh đề quan hệ dạng chủ động.",
            explanation: "Mệnh đề đầy đủ là 'who are playing'. Khi mệnh đề quan hệ ở dạng chủ động, ta có thể rút gọn bằng cách dùng V-ing.",
            type: "single-choice",
        },
        {
            id: 50,
            question: "He read the Old Man and The Sea, a novel ............. by Ernest Hemingway.",
            translation: "Anh ấy đã đọc 'Ông già và biển cả', một cuốn tiểu thuyết ............. được viết bởi Ernest Hemingway.",
            options: [
                { id: "A", text: "writing" },
                { id: "B", text: "which written" },
                { id: "C", text: "written" },
                { id: "D", text: "that wrote" },
            ],
            correctAnswer: "C",
            hint: "Rút gọn mệnh đề quan hệ dạng bị động.",
            explanation: "Mệnh đề đầy đủ là 'which was written'. Khi mệnh đề quan hệ ở dạng bị động, ta có thể rút gọn bằng cách dùng V3/V-ed.",
            type: "single-choice",
        },
        {
            id: 51,
            question: "No one present noticed anything strange.",
            translation: "Không ai có mặt nhận thấy bất cứ điều gì kỳ lạ.",
            options: [
                { id: "A", text: "The people who were there didn't notice anything strange." },
                { id: "B", text: "The people who were there didn't notice anything usual." },
                { id: "C", text: "The people were there didn't notice anything strange." },
                { id: "D", text: "The people who were there didn't notice something strange." },
            ],
            correctAnswer: "A",
            hint: "Tìm câu đồng nghĩa.",
            explanation: "'No one present' có nghĩa là 'những người có mặt ở đó'. Câu A diễn đạt lại ý này một cách chính xác.",
            type: "single-choice",
        },
        {
            id: 52,
            question: "Jane refused to attend his birthday party, which made him feel sad.",
            translation: "Jane đã từ chối tham dự bữa tiệc sinh nhật của anh ấy, điều này đã khiến anh ấy cảm thấy buồn.",
            options: [
                { id: "A", text: "Jane's refusal to attend his birthday party made him feel sad." },
                { id: "B", text: "He felt sad not to be able to attend his birthday party." },
                { id: "C", text: "Jane made him sad despite her refusal to attend his birthday party." },
                { id: "D", text: "Jane refused to attend his birthday party because it made him feel sad." },
            ],
            correctAnswer: "A",
            hint: "Tìm câu đồng nghĩa.",
            explanation: "Mệnh đề 'which made him feel sad' có thể được diễn đạt lại bằng cụm danh từ 'Jane's refusal to attend his birthday party'.",
            type: "single-choice",
        },
        {
            id: 53,
            question: "The plants may develop differently. They grow on that island.",
            translation: "Những cái cây có thể phát triển khác nhau. Chúng mọc trên hòn đảo đó.",
            options: [
                { id: "A", text: "The plants which grows on that island may develop differently." },
                { id: "B", text: "The plants which grow on that island may develop differently." },
                { id: "C", text: "The plants grow on that island may develop differently." },
                { id: "D", text: "The plants which grow that island may develop differently." },
            ],
            correctAnswer: "B",
            hint: "Kết hợp câu dùng mệnh đề quan hệ.",
            explanation: "Dùng 'which' để thay thế cho 'The plants'. Vì 'plants' là số nhiều nên động từ 'grow' phải ở dạng nguyên thể.",
            type: "single-choice",
        },
        {
            id: 54,
            question: "John Smith is a farmer. I bought his land.",
            translation: "John Smith là một người nông dân. Tôi đã mua đất của ông ấy.",
            options: [
                { id: "A", text: "John Smith, whose land I bought, is a farmer." },
                { id: "B", text: "John Smith, who is a farmer, whose land I bought." },
                { id: "C", text: "John Smith, whom I bought his land, is a farmer." },
                { id: "D", text: "John Smith, a farmer, bought his land." },
            ],
            correctAnswer: "A",
            hint: "Kết hợp câu dùng đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Dùng 'whose' để thay thế cho tính từ sở hữu 'his'. Mệnh đề quan hệ 'whose land I bought' bổ nghĩa cho 'John Smith'.",
            type: "single-choice",
        },
        {
            id: 55,
            question: "The first man who was interviewed was entirely unsuitable.",
            translation: "Người đàn ông đầu tiên được phỏng vấn hoàn toàn không phù hợp.",
            options: [
                { id: "A", text: "The first man interviewing was entirely unsuitable." },
                { id: "B", text: "The first man to interview was entirely unsuitable." },
                { id: "C", text: "The first man was interviewed was entirely unsuitable." },
                { id: "D", text: "The first man to be interviewed was entirely unsuitable." },
            ],
            correctAnswer: "D",
            hint: "Rút gọn mệnh đề quan hệ dùng 'to V'.",
            explanation: "Khi có các từ như 'the first', 'the second', 'the last', 'the only', ta có thể rút gọn mệnh đề quan hệ bằng 'to V' (chủ động) hoặc 'to be + V3/V-ed' (bị động). Ở đây là bị động ('was interviewed').",
            type: "single-choice",
        },
        {
            id: 56,
            question: "Astronomy is the study of planets and stars. It is one of the world's oldest sciences.",
            translation: "Thiên văn học là nghiên cứu về các hành tinh và các ngôi sao. Nó là một trong những ngành khoa học lâu đời nhất thế giới.",
            options: [
                { id: "A", text: "Astronomy which is the study of planets and stars is one of the world's oldest sciences." },
                { id: "B", text: "Astronomy, who is the study of planets and stars, is one of the world's oldest sciences." },
                { id: "C", text: "Astronomy is the study of planets and stars which are one of the world's oldest sciences." },
                { id: "D", text: "Astronomy, the study of planets and stars, is one of the world's oldest sciences." },
            ],
            correctAnswer: "D",
            hint: "Rút gọn mệnh đề quan hệ dùng cụm danh từ đồng cách.",
            explanation: "Mệnh đề quan hệ 'which is the study of planets and stars' có thể được rút gọn thành một cụm danh từ đồng cách 'the study of planets and stars'.",
            type: "single-choice",
        },
        {
            id: 57,
            question: "Our solar system is in a galaxy. It is called the Milky Way.",
            translation: "Hệ mặt trời của chúng ta ở trong một thiên hà. Nó được gọi là Dải Ngân Hà.",
            options: [
                { id: "A", text: "Our solar system is in a galaxy where is called the Milky Way." },
                { id: "B", text: "Our solar system is in a galaxy called the Milky Way." },
                { id: "C", text: "Our solar system is in a galaxy, that is called the Milky Way." },
                { id: "D", text: "Our solar system is in a galaxy calling the Milky Way." },
            ],
            correctAnswer: "B",
            hint: "Rút gọn mệnh đề quan hệ dạng bị động.",
            explanation: "Mệnh đề đầy đủ là 'a galaxy which is called the Milky Way'. Ta có thể rút gọn mệnh đề quan hệ bị động bằng cách dùng V3/V-ed.",
            type: "single-choice",
        },
        {
            id: 58,
            question: "I saw men, women, cats and dogs. They moved round and round.",
            translation: "Tôi đã thấy đàn ông, phụ nữ, mèo và chó. Chúng di chuyển vòng quanh.",
            options: [
                { id: "A", text: "I saw men, women, cats and dogs that moved round and round." },
                { id: "B", text: "I saw men, women, cats and dogs which moved round and round." },
                { id: "C", text: "I saw men, women, cats and dogs moved round and round." },
                { id: "D", text: "I saw men, women, cats and dogs when moved round and round." },
            ],
            correctAnswer: "A",
            hint: "Kết hợp câu dùng đại từ quan hệ chỉ cả người và vật.",
            explanation: "Khi danh từ phía trước bao gồm cả người ('men, women') và vật ('cats and dogs'), ta dùng 'that'.",
            type: "single-choice",
        },
        {
            id: 59,
            question: "One evening, he and the writer went to a restaurant. They had a wonderful meal in it.",
            translation: "Một buổi tối, anh ấy và nhà văn đã đến một nhà hàng. Họ đã có một bữa ăn tuyệt vời ở đó.",
            options: [
                { id: "A", text: "One evening, he and the writer went to a restaurant which they had a wonderful meal." },
                { id: "B", text: "One evening, he and the writer went to a restaurant where they had a wonderful meal in." },
                { id: "C", text: "One evening, he and the writer went to a restaurant where they had a wonderful meal." },
                { id: "D", text: "One evening, he and the writer went to a restaurant they had a wonderful meal." },
            ],
            correctAnswer: "C",
            hint: "Kết hợp câu dùng trạng từ quan hệ chỉ nơi chốn.",
            explanation: "Dùng 'where' để thay thế cho 'in the restaurant'. 'Where' đã bao gồm giới từ 'in' nên đáp án B bị thừa 'in'.",
            type: "single-choice",
        },
        {
            id: 60,
            question: "A number of suggestions were made at the meeting, but most of them were not very practical.",
            translation: "Một số gợi ý đã được đưa ra tại cuộc họp, nhưng hầu hết chúng không thực tế lắm.",
            options: [
                { id: "A", text: "A number of suggestions were made at the meeting, most of them were not very practical." },
                { id: "B", text: "A number of suggestions were made at the meeting, most of which were not very practical." },
                { id: "C", text: "A number of suggestions were made at the meeting, but most of which were not very practical." },
                { id: "D", text: "Most of the suggestions which were made at the meeting were not very practical." },
            ],
            correctAnswer: "B",
            hint: "Kết hợp hai mệnh đề độc lập.",
            explanation: "Dùng 'most of which' để nối hai mệnh đề, trong đó 'which' thay thế cho 'suggestions'. Không dùng 'but' khi đã có 'most of which'.",
            type: "single-choice",
        },
        {
            id: 61,
            question: ".......... in 1937, the Golden Gate Bridge spans the channel at the entrance to San Francisco Bay.",
            translation: ".......... vào năm 1937, Cầu Cổng Vàng bắc qua kênh ở lối vào Vịnh San Francisco.",
            options: [
                { id: "A", text: "Completed" },
                { id: "B", text: "Having completed" },
                { id: "C", text: "Completing" },
                { id: "D", text: "To be completed" },
            ],
            correctAnswer: "A",
            hint: "Rút gọn mệnh đề quan hệ dạng bị động.",
            explanation: "Câu đầy đủ là 'Which was completed in 1937'. Ta có thể rút gọn mệnh đề quan hệ bị động bằng cách dùng V3/V-ed.",
            type: "single-choice",
        },
        {
            id: 62,
            question: "After seeing the movie Centennial, ..........",
            translation: "Sau khi xem bộ phim Centennial, ..........",
            options: [
                { id: "A", text: "the book made many people want to read it." },
                { id: "B", text: "many people want to read the book." },
                { id: "C", text: "the reading of the book interested many people." },
                { id: "D", text: "the book was read by many people." },
            ],
            correctAnswer: "B",
            hint: "Chủ ngữ của hai mệnh đề phải đồng nhất khi rút gọn.",
            explanation: "Chủ ngữ của hành động 'seeing the movie' là 'many people'. Do đó, chủ ngữ của mệnh đề chính cũng phải là 'many people'.",
            type: "single-choice",
        },
        {
            id: 63,
            question: ".......... of the shop, my friend came in.",
            translation: ".......... khỏi cửa hàng, bạn tôi bước vào.",
            options: [
                { id: "A", text: "Coming out" },
                { id: "B", text: "On coming out" },
                { id: "C", text: "When coming out" },
                { id: "D", text: "As I came out" },
            ],
            correctAnswer: "D",
            hint: "Rút gọn mệnh đề trạng ngữ chỉ thời gian. Hai chủ ngữ khác nhau.",
            explanation: "Vì hai chủ ngữ ('I' và 'my friend') khác nhau, ta không thể rút gọn bằng V-ing. Phải dùng mệnh đề trạng ngữ đầy đủ như 'As I came out'.",
            type: "single-choice",
        },
        {
            id: 64,
            question: ".......... two hours over lunch, they left the restaurant.",
            translation: ".......... hai tiếng cho bữa trưa, họ rời nhà hàng.",
            options: [
                { id: "A", text: "Spending" },
                { id: "B", text: "Having spent" },
                { id: "C", text: "After spend" },
                { id: "D", text: "Spent" },
            ],
            correctAnswer: "B",
            hint: "Rút gọn mệnh đề trạng ngữ, hành động xảy ra trước.",
            explanation: "Hành động 'spend' xảy ra trước hành động 'left', nên khi rút gọn ta dùng 'Having + V3/V-ed'.",
            type: "single-choice",
        },
        {
            id: 65,
            question: "I notice the lorry .......... down the hill.",
            translation: "Tôi nhận thấy chiếc xe tải .......... xuống đồi.",
            options: [
                { id: "A", text: "having come" },
                { id: "B", text: "coming" },
                { id: "C", text: "to come" },
                { id: "D", text: "came" },
            ],
            correctAnswer: "B",
            hint: "Cấu trúc với động từ tri giác 'notice'.",
            explanation: "Sau các động từ tri giác như 'notice', 'see', 'hear', ta dùng 'V-ing' để diễn tả hành động đang diễn ra.",
            type: "single-choice",
        },
        {
            id: 66,
            question: ".........., I decided to stop trading with them.",
            translation: ".........., tôi quyết định ngừng giao dịch với họ.",
            options: [
                { id: "A", text: "Despite of the fact that they were the biggest dealer" },
                { id: "B", text: "Though being the biggest dealer" },
                { id: "C", text: "Being the biggest dealer" },
                { id: "D", text: "Even though they were the biggest dealers" },
            ],
            correctAnswer: "C",
            hint: "Rút gọn mệnh đề trạng ngữ chỉ lý do.",
            explanation: "Câu đầy đủ có thể là 'Because they were the biggest dealer'. Khi rút gọn mệnh đề trạng ngữ có cùng chủ ngữ, ta dùng V-ing.",
            type: "single-choice",
        },
        {
            id: 67,
            question: "She told a very funny story, .......... everyone to burst into a laugh.",
            translation: "Cô ấy kể một câu chuyện rất hài hước, .......... khiến mọi người bật cười.",
            options: [
                { id: "A", text: "allowing" },
                { id: "B", text: "making" },
                { id: "C", text: "causing" },
                { id: "D", text: "causing" },
            ],
            correctAnswer: "C",
            hint: "Mệnh đề chỉ kết quả.",
            explanation: "'Causing' ở đây được dùng để chỉ kết quả của hành động kể chuyện. Đây là một dạng rút gọn mệnh đề kết quả.",
            type: "single-choice",
        },
        {
            id: 68,
            question: "I wasn't properly dressed for the party and felt .......... about my appearance.",
            translation: "Tôi đã không ăn mặc phù hợp cho bữa tiệc và cảm thấy .......... về ngoại hình của mình.",
            options: [
                { id: "A", text: "embarrass" },
                { id: "B", text: "embarrassment" },
                { id: "C", text: "embarrassing" },
                { id: "D", text: "embarrassed" },
            ],
            correctAnswer: "D",
            hint: "Tính từ đuôi -ed và -ing.",
            explanation: "Dùng tính từ đuôi '-ed' (embarrassed) để diễn tả cảm xúc của con người (cảm thấy bị xấu hổ). Dùng '-ing' (embarrassing) để mô tả tính chất của sự vật, sự việc (đáng xấu hổ).",
            type: "single-choice",
        },
        {
            id: 69,
            question: "Young people .......... to succeed in life should work hard.",
            translation: "Những người trẻ .......... thành công trong cuộc sống nên làm việc chăm chỉ.",
            options: [
                { id: "A", text: "who wanting" },
                { id: "B", text: "want" },
                { id: "C", text: "wanting" },
                { id: "D", text: "wanted" },
            ],
            correctAnswer: "C",
            hint: "Rút gọn mệnh đề quan hệ dạng chủ động.",
            explanation: "Câu đầy đủ là 'Young people who want to succeed...'. Khi mệnh đề quan hệ ở dạng chủ động, ta có thể rút gọn bằng V-ing.",
            type: "single-choice",
        },
        {
            id: 70,
            question: ".......... is known to be good for digestion.",
            translation: ".......... được biết là tốt cho tiêu hóa.",
            options: [
                { id: "A", text: "Eating yoghurt" },
                { id: "B", text: "Having eaten yoghurt" },
                { id: "C", text: "Yoghurt eaten" },
                { id: "D", text: "Yoghurts" },
            ],
            correctAnswer: "A",
            hint: "Danh động từ (Gerund) làm chủ ngữ.",
            explanation: "'Eating yoghurt' (việc ăn sữa chua) là một cụm danh động từ, đóng vai trò làm chủ ngữ trong câu.",
            type: "single-choice",
        },
        {
            id: 71,
            question: ".......... over the exam results, she rushed home to tell her family the good news.",
            translation: ".......... về kết quả thi, cô ấy vội vã về nhà để báo tin vui cho gia đình.",
            options: [
                { id: "A", text: "Excited" },
                { id: "B", text: "Excitement" },
                { id: "C", text: "To excite" },
                { id: "D", text: "Exciting" },
            ],
            correctAnswer: "A",
            hint: "Rút gọn mệnh đề trạng ngữ, diễn tả cảm xúc.",
            explanation: "Câu đầy đủ là 'Because she was excited...'. Khi rút gọn mệnh đề có cùng chủ ngữ và động từ là 'to be', ta có thể bỏ chủ ngữ và 'to be', chỉ giữ lại tính từ.",
            type: "single-choice",
        },
        {
            id: 72,
            question: "Are there any household chores for .......... which men are better .......... than women ?",
            translation: "Có công việc nhà nào mà .......... đàn ông làm tốt .......... hơn phụ nữ không?",
            options: [
                { id: "A", text: "that/suit" },
                { id: "B", text: "whose/suited" },
                { id: "C", text: "which/suited" },
                { id: "D", text: "which/suit" },
            ],
            correctAnswer: "D",
            hint: "Mệnh đề quan hệ và cấu trúc 'be better suited for'.",
            explanation: "Đây là câu hỏi nên cấu trúc hơi phức tạp. 'which' thay thế cho 'household chores'. Cấu trúc là 'men are better suited for which (chores)'. Khi đưa 'which' lên đầu, ta có 'for which men are better suited'.",
            type: "single-choice",
        },
        {
            id: 73,
            question: "Can you please tell me some information .......... to the job?",
            translation: "Bạn có thể cho tôi biết một số thông tin .......... đến công việc được không?",
            options: [
                { id: "A", text: "relating" },
                { id: "B", text: "that relate" },
                { id: "C", text: "that are relating" },
                { id: "D", text: "related" },
            ],
            correctAnswer: "D",
            hint: "Rút gọn mệnh đề quan hệ dạng bị động.",
            explanation: "Câu đầy đủ là 'information that is related to the job'. Rút gọn mệnh đề quan hệ bị động, ta dùng V3/V-ed.",
            type: "single-choice",
        },
        {
            id: 74,
            question: "The truck .......... crashed into the back of a bus scattering glass everywhere.",
            translation: "Chiếc xe tải .......... đã đâm vào đuôi một chiếc xe buýt làm kính vỡ tung tóe khắp nơi.",
            options: [
                { id: "A", text: "it was loading with empty bottles" },
                { id: "B", text: "loaded with empty bottles" },
                { id: "C", text: "which loading with empty bottles" },
                { id: "D", text: "loading with empty bottles" },
            ],
            correctAnswer: "D",
            hint: "Rút gọn mệnh đề quan hệ dạng chủ động.",
            explanation: "Câu đầy đủ là 'The truck which was loading with empty bottles...'. Rút gọn mệnh đề quan hệ chủ động, ta dùng V-ing.",
            type: "single-choice",
        },
        {
            id: 75,
            question: "None of the people .......... to the party can come.",
            translation: "Không ai trong số những người .......... đến bữa tiệc có thể đến được.",
            options: [
                { id: "A", text: "invite" },
                { id: "B", text: "invited" },
                { id: "C", text: "inviting" },
                { id: "D", text: "to invite" },
            ],
            correctAnswer: "B",
            hint: "Rút gọn mệnh đề quan hệ dạng bị động.",
            explanation: "Câu đầy đủ là 'people who were invited to the party'. Rút gọn mệnh đề quan hệ bị động, ta dùng V3/V-ed.",
            type: "single-choice",
        },
        {
            id: 76,
            question: ".......... the noise and pollution in the city, the Browns move to the countryside.",
            translation: ".......... tiếng ồn và ô nhiễm ở thành phố, nhà Browns chuyển về nông thôn.",
            options: [
                { id: "A", text: "Be tired of" },
                { id: "B", text: "Being tired of" },
                { id: "C", text: "Tired of" },
                { id: "D", text: "Were tired of" },
            ],
            correctAnswer: "B",
            hint: "Rút gọn mệnh đề trạng ngữ chỉ lý do.",
            explanation: "Câu đầy đủ là 'Because they were tired of...'. Khi rút gọn mệnh đề có cùng chủ ngữ, ta dùng V-ing. 'Being' là dạng V-ing của 'to be'.",
            type: "single-choice",
        },
        {
            id: 77,
            question: "the author / released /earned / last year / the book / a lot of money.",
            translation: "Sắp xếp các từ thành câu có nghĩa.",
            options: [
                { id: "A", text: "Released last year, the book earned the author a lot of money." },
                { id: "B", text: "Released last year, the author earned the book a lot of money." },
                { id: "C", text: "The author released the book last year a lot of money earned." },
                { id: "D", text: "The released book last year earned the author a lot of money." },
            ],
            correctAnswer: "A",
            hint: "Sử dụng mệnh đề rút gọn ở đầu câu.",
            explanation: "Cụm 'Released last year' là mệnh đề rút gọn của 'Which was released last year', bổ nghĩa cho 'the book'.",
            type: "single-choice",
        },
        {
            id: 78,
            question: "Do you know any restaurant ..........?",
            translation: "Bạn có biết nhà hàng nào .......... không?",
            options: [
                { id: "A", text: "have a really good meal" },
                { id: "B", text: "where we can have a really good meal" },
                { id: "C", text: "has a really good meal" },
                { id: "D", text: "that we can have a really good meal" },
            ],
            correctAnswer: "B",
            hint: "Mệnh đề quan hệ chỉ nơi chốn.",
            explanation: "'where' được dùng để bổ nghĩa cho 'restaurant'. 'where we can have a really good meal' có nghĩa là 'nơi mà chúng ta có thể có một bữa ăn ngon'.",
            type: "single-choice",
        },
        {
            id: 79,
            question: "The secretaries were the only people ..........",
            translation: "Các thư ký là những người duy nhất ..........",
            options: [
                { id: "A", text: "to get a pay rise" },
                { id: "B", text: "getting a pay rise" },
                { id: "C", text: "who to get a pay rise" },
                { id: "D", text: "to whom get a pay rise" },
            ],
            correctAnswer: "A",
            hint: "Rút gọn mệnh đề quan hệ dùng 'to V' sau 'the only'.",
            explanation: "Sau 'the only people', mệnh đề 'who got a pay rise' có thể được rút gọn thành 'to get a pay rise'.",
            type: "single-choice",
        },
        {
            id: 80,
            question: "The reason .......... was that her mother fell seriously ill.",
            translation: "Lý do .......... là mẹ cô ấy bị ốm nặng.",
            options: [
                { id: "A", text: "where she didn't come" },
                { id: "B", text: "when she didn't come" },
                { id: "C", text: "she didn't come" },
                { id: "D", text: "for which she didn't come" },
            ],
            correctAnswer: "D",
            hint: "Trạng từ quan hệ chỉ lý do 'why' có thể thay bằng 'for which'.",
            explanation: "'The reason why she didn't come' hoặc 'The reason for which she didn't come'. 'why' có thể được lược bỏ.",
            type: "single-choice",
        },
        {
            id: 81,
            question: "<u>There are</u> about 500 species of poisonous snakes, <u>200 of them</u> <u>are</u> harmful <u>to man</u>.",
            translation: "Có khoảng 500 loài rắn độc, 200 loài trong số đó có hại cho con người.",
            options: [
                { id: "A", text: "There are" },
                { id: "B", text: "200 of them" },
                { id: "C", text: "are" },
                { id: "D", text: "to man" },
            ],
            correctAnswer: "B",
            hint: "Nối hai mệnh đề độc lập.",
            explanation: "Để nối hai mệnh đề, không thể dùng '200 of them'. Phải dùng '200 of which'.",
            type: "single-choice",
        },
        {
            id: 82,
            question: "The electric cooker <u>who</u> is <u>wrapped</u> in the box <u>is made</u> of <u>steel</u>.",
            translation: "Nồi cơm điện, cái mà được gói trong hộp, được làm bằng thép.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "wrapped" },
                { id: "C", text: "is made" },
                { id: "D", text: "steel" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ vật.",
            explanation: "'The electric cooker' là vật, nên phải dùng 'which' hoặc 'that', không dùng 'who'.",
            type: "single-choice",
        },
        {
            id: 83,
            question: "The legal age <u>which</u> a person is <u>considered to be</u> an adult <u>is</u> <u>customarily</u> 18.",
            translation: "Độ tuổi hợp pháp mà một người được coi là người lớn thường là 18.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "considered to be" },
                { id: "C", text: "is" },
                { id: "D", text: "customarily" },
            ],
            correctAnswer: "A",
            hint: "Trạng từ quan hệ chỉ nơi chốn hoặc thời gian.",
            explanation: "'The legal age' là một điểm thời gian, nên phải dùng 'at which' hoặc 'when'. Chỗ trống phải là 'at which'.",
            type: "single-choice",
        },
        {
            id: 84,
            question: "The gardener used the scissors <u>which</u> he had bought <u>them</u> from a village shop <u>to cut</u> the <u>flowers</u>.",
            translation: "Người làm vườn đã dùng chiếc kéo mà ông đã mua chúng từ một cửa hàng trong làng để cắt hoa.",
            options: [
                { id: "A", text: "which" },
                { id: "B", text: "them" },
                { id: "C", text: "to cut" },
                { id: "D", text: "flowers" },
            ],
            correctAnswer: "B",
            hint: "Thừa tân ngữ trong mệnh đề quan hệ.",
            explanation: "Đại từ quan hệ 'which' đã thay thế cho 'the scissors' làm tân ngữ, nên không cần 'them' nữa.",
            type: "single-choice",
        },
        {
            id: 85,
            question: "The area with <u>the greatest number</u> of thunderstorms each year <u>is</u> the interior of the Florida peninsula, <u>which</u> the Atlantic and Gulf airstreams <u>meet</u>.",
            translation: "Khu vực có số lượng giông bão lớn nhất mỗi năm là nội địa của bán đảo Florida, nơi các dòng không khí Đại Tây Dương và Vịnh gặp nhau.",
            options: [
                { id: "A", text: "the greatest number" },
                { id: "B", text: "is" },
                { id: "C", text: "which" },
                { id: "D", text: "meet" },
            ],
            correctAnswer: "C",
            hint: "Trạng từ quan hệ chỉ nơi chốn.",
            explanation: "Chỗ trống cần một trạng từ quan hệ chỉ nơi chốn để bổ nghĩa cho 'the interior of the Florida peninsula'. Phải dùng 'where'.",
            type: "single-choice",
        },
        {
            id: 86,
            question: "Aloha is a Hawaiian word <u>meaning</u> ‘love’, <u>that</u> can be used <u>to say</u> hello or <u>goodbye</u>.",
            translation: "Aloha là một từ Hawaii có nghĩa là 'tình yêu', từ mà có thể được dùng để nói xin chào hoặc tạm biệt.",
            options: [
                { id: "A", text: "meaning" },
                { id: "B", text: "that" },
                { id: "C", text: "to say" },
                { id: "D", text: "goodbye" },
            ],
            correctAnswer: "B",
            hint: "Đại từ quan hệ trong mệnh đề không xác định.",
            explanation: "Sau dấu phẩy (trong mệnh đề không xác định), không được dùng 'that'. Phải dùng 'which'.",
            type: "single-choice",
        },
        {
            id: 87,
            question: "People <u>whose</u> exercise frequently <u>have</u> greater physical endurance than those <u>who</u> <u>doesn't</u>.",
            translation: "Những người mà tập thể dục thường xuyên có sức bền thể chất lớn hơn những người không tập.",
            options: [
                { id: "A", text: "whose" },
                { id: "B", text: "have" },
                { id: "C", text: "who" },
                { id: "D", text: "doesn't" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ người, làm chủ ngữ.",
            explanation: "Chủ ngữ của động từ 'exercise' là 'People'. Cần một đại từ quan hệ chỉ người làm chủ ngữ, đó là 'who'. 'Whose' chỉ sự sở hữu.",
            type: "single-choice",
        },
        {
            id: 88,
            question: "I <u>have</u> always wanted <u>to visit</u> Paris, <u>that</u> is the capital <u>of</u> France.",
            translation: "Tôi đã luôn muốn đến thăm Paris, nơi là thủ đô của nước Pháp.",
            options: [
                { id: "A", text: "have" },
                { id: "B", text: "to visit" },
                { id: "C", text: "that" },
                { id: "D", text: "of" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ trong mệnh đề không xác định.",
            explanation: "Sau dấu phẩy (trong mệnh đề không xác định), không được dùng 'that'. Phải dùng 'which'.",
            type: "single-choice",
        },
        {
            id: 89,
            question: "Shakespeare, <u>who</u> works are famous <u>all over</u> the world, <u>was</u> an English <u>writer</u>.",
            translation: "Shakespeare, người có các tác phẩm nổi tiếng khắp thế giới, là một nhà văn người Anh.",
            options: [
                { id: "A", text: "who" },
                { id: "B", text: "all over" },
                { id: "C", text: "was" },
                { id: "D", text: "writer" },
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Để chỉ 'tác phẩm của Shakespeare' (his works), ta phải dùng đại từ quan hệ chỉ sự sở hữu là 'whose'.",
            type: "single-choice",
        },
        {
            id: 90,
            question: "The water temperature <u>in a spring</u> depends <u>on that</u> of the soil through <u>where</u> the water <u>flows</u>.",
            translation: "Nhiệt độ nước trong một con suối phụ thuộc vào nhiệt độ của đất mà nước chảy qua đó.",
            options: [
                { id: "A", text: "in a spring" },
                { id: "B", text: "on that" },
                { id: "C", text: "where" },
                { id: "D", text: "flows" },
            ],
            correctAnswer: "C",
            hint: "Đại từ quan hệ chỉ vật, làm tân ngữ sau giới từ.",
            explanation: "Câu đầy đủ là 'through which the water flows'. 'where' không đi sau giới từ 'through'.",
            type: "single-choice",
        },
        {
            id: 91,
            question: "Nam’s parents were here last week and gave us a present. Nam’s parents, ________, gave us a present.",
            translation: "Bố mẹ của Nam đã ở đây tuần trước và tặng chúng tôi một món quà. Bố mẹ của Nam, ________, đã tặng chúng tôi một món quà.",
            options: [
                { id: "A", text: "who were here last week" },
                { id: "B", text: "which were here last week" },
                { id: "C", text: "whose were here last week" },
                { id: "D", text: "whom were here last week" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ không xác định, bổ nghĩa cho danh từ chỉ người.",
            explanation: "'Nam’s parents' là người, và mệnh đề phụ làm rõ họ là ai. 'who' được dùng làm chủ ngữ cho động từ 'were' trong mệnh đề quan hệ.",
            type: "single-choice"
        },
        {
            id: 92,
            question: "I lent you a book. It was written by a friend of mine. She lives in France. The book I lent you ________.",
            translation: "Tôi đã cho bạn mượn một cuốn sách. Nó được viết bởi một người bạn của tôi. Cô ấy sống ở Pháp. Cuốn sách tôi cho bạn mượn ________.",
            options: [
                { id: "A", text: "was written by a friend who lives in France" },
                { id: "B", text: "wrote by a friend who lives in France" },
                { id: "C", text: "was written by a friend which lives in France" },
                { id: "D", text: "written by a friend who lives in France" }
            ],
            correctAnswer: "A",
            hint: "Kết hợp câu, cần có động từ chính cho mệnh đề chính.",
            explanation: "Câu cần một động từ chính. 'The book (which/that) I lent you' là chủ ngữ, và 'was written...' là vị ngữ. Mệnh đề quan hệ 'who lives in France' bổ nghĩa cho 'a friend'.",
            type: "single-choice"
        },
        {
            id: 93,
            question: "I used to own a dog. People came to the door. The dog never barked at them. The dog ________ never barked at them.",
            translation: "Tôi từng có một con chó. Mọi người đến cửa. Con chó không bao giờ sủa họ. Con chó ________ không bao giờ sủa họ.",
            options: [
                { id: "A", text: "which I used to own" },
                { id: "B", text: "I used to own which" },
                { id: "C", text: "I used to own who" },
                { id: "D", text: "whom I used to own" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ xác định, bổ nghĩa cho danh từ chỉ vật.",
            explanation: "'which I used to own' là mệnh đề quan hệ bổ nghĩa cho 'The dog'. 'which' thay thế cho 'the dog' và làm tân ngữ của 'own'.",
            type: "single-choice"
        },
        {
            id: 94,
            question: "I bought my car from a woman. She lives in a house. You can see the house over there. The woman I bought my car from ________.",
            translation: "Tôi đã mua xe của mình từ một người phụ nữ. Cô ấy sống trong một ngôi nhà. Bạn có thể thấy ngôi nhà ở đằng kia. Người phụ nữ mà tôi mua xe từ ________.",
            options: [
                { id: "A", text: "lives in the house which you can see over there" },
                { id: "B", text: "live in a house you can see" },
                { id: "C", text: "who live in the house you can see" },
                { id: "D", text: "living in a house you can see" }
            ],
            correctAnswer: "A",
            hint: "Chủ ngữ là số ít ('The woman'), động từ chính phải chia tương ứng.",
            explanation: "'The woman (whom) I bought my car from' là chủ ngữ số ít, vì vậy động từ chính phải là 'lives'. Mệnh đề 'which you can see over there' bổ nghĩa cho 'the house'.",
            type: "single-choice"
        },
        {
            id: 95,
            question: "My friend Bill has decided to buy a motorbike. His car was stolen last week. My friend Bill, ________, has decided to buy a motorbike.",
            translation: "Bạn tôi, Bill, đã quyết định mua một chiếc xe máy. Xe của anh ấy đã bị đánh cắp tuần trước. Bạn tôi, Bill, ________, đã quyết định mua một chiếc xe máy.",
            options: [
                { id: "A", text: "whose car was stolen last week" },
                { id: "B", text: "who car was stolen last week" },
                { id: "C", text: "that car was stolen last week" },
                { id: "D", text: "which car was stolen last week" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ không xác định, chỉ sự sở hữu.",
            explanation: "Để chỉ 'chiếc xe của Bill' (his car), ta dùng đại từ quan hệ chỉ sự sở hữu 'whose'. Mệnh đề này được đặt giữa hai dấu phẩy.",
            type: "single-choice"
        },
        {
            id: 96,
            question: "I bought a new car. It cost me a lot of money. The new car ________.",
            translation: "Tôi đã mua một chiếc xe mới. Nó tốn của tôi rất nhiều tiền. Chiếc xe mới ________.",
            options: [
                { id: "A", text: "I bought cost me a lot of money" },
                { id: "B", text: "I bought costs me a lot of money" },
                { id: "C", text: "I buy cost me a lot of money" },
                { id: "D", text: "which I buy cost a lot of money" }
            ],
            correctAnswer: "A",
            hint: "Thì của động từ phải thống nhất. Hành động đã xảy ra trong quá khứ.",
            explanation: "'The new car (that) I bought' là chủ ngữ. Hành động 'cost' đã xảy ra trong quá khứ, nên giữ nguyên dạng 'cost' (quá khứ của 'cost' là 'cost').",
            type: "single-choice"
        },
        {
            id: 97,
            question: "I just talked to the girl. I can never remember her name. I just talked to the girl ________ I can never remember.",
            translation: "Tôi vừa nói chuyện với cô gái. Tôi không bao giờ nhớ được tên cô ấy. Tôi vừa nói chuyện với cô gái ________ tôi không bao giờ nhớ được.",
            options: [
                { id: "A", text: "whose name" },
                { id: "B", text: "which name" },
                { id: "C", text: "who name" },
                { id: "D", text: "whom name" }
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Để chỉ 'tên của cô gái' (her name), ta dùng đại từ quan hệ chỉ sự sở hữu 'whose'. Cụm 'whose name' làm tân ngữ cho 'remember'.",
            type: "single-choice"
        },
        {
            id: 98,
            question: "The librarian wants to speak to a man. We borrowed his car yesterday. The librarian wants to speak to the man ________ we borrowed yesterday.",
            translation: "Người thủ thư muốn nói chuyện với một người đàn ông. Chúng tôi đã mượn xe của ông ấy hôm qua. Người thủ thư muốn nói chuyện với người đàn ông ________ chúng tôi đã mượn hôm qua.",
            options: [
                { id: "A", text: "whose car" },
                { id: "B", text: "who car" },
                { id: "C", text: "which car" },
                { id: "D", text: "whom car" }
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ chỉ sự sở hữu.",
            explanation: "Để chỉ 'chiếc xe của người đàn ông' (his car), ta dùng đại từ quan hệ chỉ sự sở hữu 'whose'. Cụm 'whose car' làm tân ngữ cho động từ 'borrowed'.",
            type: "single-choice"
        },
        {
            id: 99,
            question: "My friend Albert has decided to buy a motorbike. His car was stolen. My friend Albert, ________, has decided to buy a motorbike.",
            translation: "Bạn tôi, Albert, đã quyết định mua một chiếc xe máy. Xe của anh ấy đã bị đánh cắp. Bạn tôi, Albert, ________, đã quyết định mua một chiếc xe máy.",
            options: [
                { id: "A", text: "whose car was stolen" },
                { id: "B", text: "who car was stolen" },
                { id: "C", text: "that car was stolen" },
                { id: "D", text: "which car was stolen" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ không xác định, chỉ sự sở hữu.",
            explanation: "Để chỉ 'chiếc xe của Albert' (his car), ta dùng đại từ quan hệ chỉ sự sở hữu 'whose'. Mệnh đề này được đặt giữa hai dấu phẩy vì 'My friend Albert' là danh từ riêng.",
            type: "single-choice"
        },
        {
            id: 100,
            question: "Carol is a vegetarian. I cooked a meal for her last week. Carol, ________, is a vegetarian.",
            translation: "Carol là người ăn chay. Tôi đã nấu một bữa ăn cho cô ấy tuần trước. Carol, ________, là người ăn chay.",
            options: [
                { id: "A", text: "for whom I cooked a meal last week" },
                { id: "B", text: "who I cooked a meal for last week" },
                { id: "C", text: "whom I cooked a meal for her last week" },
                { id: "D", text: "that I cooked a meal for last week" }
            ],
            correctAnswer: "A",
            hint: "Đại từ quan hệ làm tân ngữ của giới từ trong mệnh đề không xác định.",
            explanation: "Mệnh đề gốc là 'I cooked a meal for her'. 'her' được thay bằng 'whom'. Giới từ 'for' được đảo lên trước 'whom'. Không dùng 'that' và không lặp lại 'her'.",
            type: "single-choice"
        },
        {
            id: 101,
            question: "I was sitting next to a boy in the exam. He told me the answer. The boy I was sitting next to in the exam ________.",
            translation: "Tôi đã ngồi cạnh một cậu bé trong kỳ thi. Cậu ấy đã nói cho tôi câu trả lời. Cậu bé mà tôi ngồi cạnh trong kỳ thi ________.",
            options: [
                { id: "A", text: "told me the answer" },
                { id: "B", text: "who told me the answer" },
                { id: "C", text: "which told me the answer" },
                { id: "D", text: "that told me the answer" }
            ],
            correctAnswer: "A",
            hint: "Câu đã có chủ ngữ, chỉ cần thêm vị ngữ.",
            explanation: "'The boy (whom) I was sitting next to in the exam' là một cụm danh từ đóng vai trò chủ ngữ. Câu chỉ cần thêm động từ chính là 'told me the answer'.",
            type: "single-choice"
        },
        {
            id: 102,
            question: "I bought a new computer. It costs a lot of money. The new computer ________.",
            translation: "Tôi đã mua một cái máy tính mới. Nó tốn rất nhiều tiền. Cái máy tính mới ________.",
            options: [
                { id: "A", text: "I bought costs a lot of money" },
                { id: "B", text: "which I buy cost a lot of money" },
                { id: "C", text: "that I buy costs a lot of money" },
                { id: "D", text: "I buying cost a lot of money" }
            ],
            correctAnswer: "A",
            hint: "Thì của động từ phải thống nhất. Hành động 'bought' ở quá khứ, nhưng 'costs' ở hiện tại (sự thật).",
            explanation: "'The new computer (that) I bought' là chủ ngữ. Động từ 'buy' ở quá khứ ('bought'), nhưng 'cost' ở hiện tại ('costs') để chỉ một sự thật về giá cả của nó.",
            type: "single-choice"
        },
        {
            id: 103,
            question: "My neighbours have three children. The children make a lot of noise. My neighbours never apologise. My neighbours, ________, never apologise.",
            translation: "Hàng xóm của tôi có ba đứa con. Những đứa trẻ làm ồn rất nhiều. Hàng xóm của tôi không bao giờ xin lỗi. Hàng xóm của tôi, ________, không bao giờ xin lỗi.",
            options: [
                { id: "A", text: "whose three children make a lot of noise" },
                { id: "B", text: "who children make a lot of noise" },
                { id: "C", text: "which children make a lot of noise" },
                { id: "D", text: "their children make a lot of noise" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ không xác định, chỉ sự sở hữu.",
            explanation: "Để chỉ 'những đứa con của hàng xóm' (their children), ta dùng đại từ quan hệ 'whose'.",
            type: "single-choice"
        },
        {
            id: 104,
            question: "Do you know the woman? We are sharing a flat with her son. Do you know the woman ________ we are sharing a flat?",
            translation: "Bạn có biết người phụ nữ đó không? Chúng tôi đang ở chung căn hộ với con trai của cô ấy. Bạn có biết người phụ nữ ________ chúng tôi đang ở chung căn hộ không?",
            options: [
                { id: "A", text: "whose son" },
                { id: "B", text: "who son" },
                { id: "C", text: "that son" },
                { id: "D", text: "whom son" }
            ],
            correctAnswer: "A",
            hint: "Câu hỏi cần đại từ quan hệ chỉ sự sở hữu và giới từ đi kèm.",
            explanation: "Câu đầy đủ là 'Do you know the woman with whose son we are sharing a flat?'. Trong câu hỏi, giới từ 'with' đã được ẩn đi ở cuối. Ta cần 'whose son' để chỉ 'con trai của cô ấy'.",
            type: "single-choice"
        },
        {
            id: 105,
            question: "The ship hit an iceberg and sank. Warning messages had been sent to it. The ship ignored these. The ship, ________, sank after hitting an iceberg.",
            translation: "Con tàu đã đâm vào một tảng băng và chìm. Các thông điệp cảnh báo đã được gửi đến nó. Con tàu đã phớt lờ chúng. Con tàu, ________, đã chìm sau khi đâm vào một tảng băng.",
            options: [
                { id: "A", text: "which ignored warning messages" },
                { id: "B", text: "who ignored warning messages" },
                { id: "C", text: "that ignoring warning messages" },
                { id: "D", text: "whose ignored warning messages" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ không xác định, bổ nghĩa cho vật.",
            explanation: "Dùng 'which' để thay thế cho 'The ship' và làm chủ ngữ cho động từ 'ignored'. Không dùng 'that' trong mệnh đề không xác định.",
            type: "single-choice"
        },
        {
            id: 106,
            question: "The postman realized I was on holiday. You had sent me a parcel. The postman left it next door. The postman, ________, left it next door.",
            translation: "Người đưa thư nhận ra tôi đang đi nghỉ. Bạn đã gửi cho tôi một bưu kiện. Người đưa thư đã để nó ở nhà bên cạnh. Người đưa thư, ________, đã để nó ở nhà bên cạnh.",
            options: [
                { id: "A", text: "to whom you had sent a parcel" },
                { id: "B", text: "who you had sent a parcel" },
                { id: "C", text: "that you sent a parcel" },
                { id: "D", text: "whom you sent parcel" }
            ],
            correctAnswer: "A",
            hint: "Mệnh đề quan hệ không xác định, 'whom' làm tân ngữ của giới từ.",
            explanation: "Mệnh đề quan hệ bổ nghĩa cho 'The postman'. Câu gốc là 'You had sent a parcel to me'. 'me' được thay bằng 'whom', và giới từ 'to' được đảo lên trước. Tuy nhiên, logic câu này không hoàn toàn chính xác vì mệnh đề quan hệ nên bổ nghĩa cho 'me' chứ không phải 'postman'. Giả sử câu hỏi muốn kiểm tra cấu trúc, A là đúng nhất.",
            type: "single-choice"
        },
        {
            id: 107,
            question: "We went to a beach on the first day of our holiday. It was covered in seaweed. This smelled a lot. The beach we went to ________.",
            translation: "Chúng tôi đã đến một bãi biển vào ngày đầu tiên của kỳ nghỉ. Nó bị bao phủ bởi rong biển. Thứ này có mùi rất nặng. Bãi biển mà chúng tôi đã đến ________.",
            options: [
                { id: "A", text: "was covered in seaweed that smelled a lot" },
                { id: "B", text: "covered in seaweed which smelled a lot" },
                { id: "C", text: "covering seaweed smelled a lot" },
                { id: "D", text: "was covered seaweed that smelled a lot" }
            ],
            correctAnswer: "A",
            hint: "Câu cần có động từ chính và mệnh đề quan hệ.",
            explanation: "'The beach (which) we went to' là chủ ngữ. 'was covered in seaweed' là vị ngữ. Mệnh đề quan hệ 'that smelled a lot' bổ nghĩa cho 'seaweed'.",
            type: "single-choice"
        },
        {
            id: 108,
            question: "I lost my wallet last week. It was found by a workman. He was digging a hole in the street outside our house. The wallet ________ was found by a workman who was digging outside our house.",
            translation: "Tôi đã mất ví tuần trước. Nó được tìm thấy bởi một công nhân. Ông ấy đang đào một cái hố trên đường bên ngoài nhà chúng tôi. Chiếc ví ________ được tìm thấy bởi một công nhân đang đào đất bên ngoài nhà chúng tôi.",
            options: [
                { id: "A", text: "I lost last week" },
                { id: "B", text: "which I lose last week" },
                { id: "C", text: "that I lose last week" },
                { id: "D", text: "lost last week" }
            ],
            correctAnswer: "A",
            hint: "Thêm mệnh đề quan hệ để xác định danh từ.",
            explanation: "Mệnh đề quan hệ 'I lost last week' (rút gọn của 'which I lost last week') được thêm vào để làm rõ 'The wallet' nào đang được nói đến. Động từ 'lose' phải ở thì quá khứ ('lost').",
            type: "single-choice"
        },
        {
            id: 109,
            question: "A woman's jewels were stolen. A police officer was staying in the same hotel. The woman was interviewed by him. The woman ________ was interviewed by a police officer staying in the same hotel.",
            translation: "Trang sức của một người phụ nữ đã bị đánh cắp. Một sĩ quan cảnh sát đang ở cùng khách sạn. Người phụ nữ đã được ông ta phỏng vấn. Người phụ nữ ________ đã được phỏng vấn bởi một sĩ quan cảnh sát đang ở cùng khách sạn.",
            options: [
                { id: "A", text: "whose jewels were stolen" },
                { id: "B", text: "who jewels were stolen" },
                { id: "C", text: "which jewels were stolen" },
                { id: "D", text: "that jewels were stolen" }
            ],
            correctAnswer: "A",
            hint: "Thêm mệnh đề quan hệ chỉ sự sở hữu để xác định danh từ.",
            explanation: "Mệnh đề quan hệ 'whose jewels were stolen' được thêm vào để làm rõ 'The woman' nào đang được nói đến. 'whose' chỉ sự sở hữu ('her jewels').",
            type: "single-choice"
        },
        {
            id: 110,
            question: "A teenager scored a goal. It was the most beautiful of the match. The goal ________ was the most beautiful of the match.",
            translation: "Một thiếu niên đã ghi một bàn thắng. Đó là bàn thắng đẹp nhất trận đấu. Bàn thắng ________ là bàn thắng đẹp nhất trận đấu.",
            options: [
                { id: "A", text: "scoring by a teenager" },
                { id: "B", text: "scored by a teenager" },
                { id: "C", text: "who scored by a teenager" },
                { id: "D", text: "was scored by a teenager" }
            ],
            correctAnswer: "B",
            hint: "Rút gọn mệnh đề quan hệ dạng bị động.",
            explanation: "Mệnh đề đầy đủ là 'The goal which was scored by a teenager'. Khi mệnh đề quan hệ ở dạng bị động, ta có thể rút gọn bằng cách bỏ 'which was' và chỉ giữ lại V3/V-ed ('scored').",
            type: "single-choice"
        }
    ];

    //============= Icons ==============
    const LightbulbIcon = () => (
      <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
        <path d="M11 3a1 1 0 100 2h.01a1 1 0 100-2H11zM11 6a1 1 0 011 1v5a1 1 0 11-2 0V7a1 1 0 011-1zM4.755 9.06A7.5 7.5 0 0110 3.344V2.5a.5.5 0 011 0v.844a7.5 7.5 0 015.245 5.716.5.5 0 01-.99.128A6.5 6.5 0 0010.5 4.344V4.5a.5.5 0 01-1 0v-.156a6.5 6.5 0 00-4.745 4.888.5.5 0 11-.99-.128z" />
        <path fillRule="evenodd" d="M10 18a7.5 7.5 0 005.245-13.176.5.5 0 11.707.707A6.5 6.5 0 1110 5.5a.5.5 0 011 0 7.5 7.5 0 00-6.245 11.676.5.5 0 11-.707-.707A7.5 7.5 0 0010 18z" clipRule="evenodd" />
        <path d="M10 12.5a.5.5 0 01.5.5v1.207l.22-.22a.5.5 0 11.707.707l-1.5 1.5a.5.5 0 01-.707 0l-1.5-1.5a.5.5 0 01.707-.707l.22.22V13a.5.5 0 01.5-.5z" />
      </svg>
    );

    const CheckCircleIcon = () => (
      <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    );

    const XCircleIcon = () => (
      <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth={2}>
        <path strokeLinecap="round" strokeLinejoin="round" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z" />
      </svg>
    );


    //=========== Components ===========
    function WelcomeScreen({ onStart }) {
      const [name, setName] = React.useState('');

      const handleSubmit = (e) => {
        e.preventDefault();
        if (name.trim()) {
          onStart(name.trim());
        }
      };

      return (
        <div className="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">
          <div className="w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center animate-fade-in">
            <h1 className="text-3xl md:text-4xl font-bold text-gray-800 mb-2">Bài tập trắc nghiệm</h1>
            <h2 className="text-2xl md:text-3xl font-bold text-blue-600 mb-6">Mệnh Đề Quan Hệ</h2>
            <p className="text-gray-600 mb-8">Nhập tên của bạn để bắt đầu thử thách kiến thức ngữ pháp nhé!</p>
            <form onSubmit={handleSubmit}>
              <input
                type="text"
                placeholder="Nhập tên của bạn..."
                value={name}
                onChange={(e) => setName(e.target.value)}
                className="w-full px-4 py-3 border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 transition duration-300 mb-6 text-lg"
                aria-label="Player name"
              />
              <button
                type="submit"
                disabled={!name.trim()}
                className="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 disabled:bg-gray-400 disabled:cursor-not-allowed disabled:transform-none text-lg"
              >
                Bắt đầu làm bài
              </button>
            </form>
          </div>
        </div>
      );
    }

    function ResultScreen({ playerName, score, totalQuestions, onRestart }) {
        const percentage = Math.round((score / (totalQuestions * 10)) * 100);
        
        let message = "";
        if (percentage >= 80) {
            message = "Thật ấn tượng!";
        } else if (percentage >= 50) {
            message = "Làm tốt lắm!";
        } else {
            message = "Cố gắng hơn nhé!";
        }

        return (
            <div className="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">
                <div className="w-full max-w-md bg-white rounded-2xl shadow-xl p-8 text-center animate-fade-in">
                    <h1 className="text-2xl md:text-3xl font-bold text-gray-800 mb-4">
                        Chúc mừng, <span className="text-blue-600">{playerName}</span>!
                    </h1>
                    <p className="text-gray-600 mb-6 text-lg">Bạn đã hoàn thành bài tập.</p>
                    <div className="bg-blue-50 rounded-lg p-6 mb-8">
                         <p className="text-xl font-semibold text-gray-700">Điểm của bạn:</p>
                        <p className="text-5xl font-bold text-blue-600 my-2">{score}</p>
                        <p className="text-gray-500">trên tổng số {totalQuestions * 10} điểm</p>
                    </div>
                    <p className="text-xl font-semibold text-gray-800 mb-6">{message}</p>
                    <button
                        onClick={onRestart}
                        className="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 text-lg"
                    >
                        Làm lại từ đầu
                    </button>
                </div>
            </div>
        );
    }
    
    function QuizScreen({ questions, onFinish }) {
        const [currentQuestionIndex, setCurrentQuestionIndex] = React.useState(0);
        const [score, setScore] = React.useState(0);
        const [selectedAnswer, setSelectedAnswer] = React.useState(null);
        const [isAnswered, setIsAnswered] = React.useState(false);
        const [isCorrect, setIsCorrect] = React.useState(null);
        const [showHint, setShowHint] = React.useState(false);

        const currentQuestion = questions[currentQuestionIndex];

        const handleAnswerSelect = (optionId) => {
            if (isAnswered) return;

            setSelectedAnswer(optionId);
            setIsAnswered(true);
            const correct = optionId === currentQuestion.correctAnswer;
            setIsCorrect(correct);
            if (correct) {
                setScore(prevScore => prevScore + 10);
            }
        };

        const handleNextQuestion = () => {
            if (currentQuestionIndex < questions.length - 1) {
                setCurrentQuestionIndex(prevIndex => prevIndex + 1);
                setSelectedAnswer(null);
                setIsAnswered(false);
                setIsCorrect(null);
                setShowHint(false);
            } else {
                onFinish(score);
            }
        };

        const getButtonClass = (optionId) => {
            if (!isAnswered) {
              return "bg-white hover:bg-blue-50 border-gray-300";
            }
            if (optionId === currentQuestion.correctAnswer) {
              return "bg-green-100 border-green-400 text-green-800";
            }
            if (optionId === selectedAnswer) {
              return "bg-red-100 border-red-400 text-red-800";
            }
            return "bg-white border-gray-300 opacity-60";
        };

        const setupHintListeners = () => {
            const handleMouseUp = () => {
                setShowHint(false);
                window.removeEventListener('mouseup', handleMouseUp);
                window.removeEventListener('touchend', handleMouseUp);
            };

            window.addEventListener('mouseup', handleMouseUp);
            window.addEventListener('touchend', handleMouseUp);
        };
        
        const handleHintMouseDown = () => {
            setShowHint(true);
            setupHintListeners();
        };

        return (
            <div className="flex flex-col items-center justify-center min-h-screen bg-gray-100 p-4">
                <div className="w-full max-w-3xl bg-white rounded-2xl shadow-xl p-6 md:p-8 animate-fade-in">
                    <div className="flex justify-between items-center mb-6">
                        <p className="text-lg font-semibold text-gray-700">Câu {currentQuestionIndex + 1}/{questions.length}</p>
                        <p className="text-lg font-bold text-blue-600">Điểm: {score}</p>
                    </div>

                    <div className="mb-6">
                        <p className="text-xl md:text-2xl font-semibold text-gray-800 leading-relaxed">{currentQuestion.question}</p>
                        <p className="text-md md:text-lg text-gray-500 italic mt-2">{currentQuestion.translation}</p>
                    </div>

                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                        {currentQuestion.options.map((option) => (
                            <button
                                key={option.id}
                                onClick={() => handleAnswerSelect(option.id)}
                                disabled={isAnswered}
                                className={`w-full text-left p-4 border rounded-lg shadow-sm transition duration-300 flex items-center text-lg ${getButtonClass(option.id)} ${!isAnswered ? 'cursor-pointer' : 'cursor-default'}`}
                            >
                                <span className="font-bold mr-3">{option.id}.</span>
                                <span>{option.text}</span>
                            </button>
                        ))}
                    </div>
                    
                    <div className="relative mb-6">
                        <button
                            onMouseDown={handleHintMouseDown}
                            onTouchStart={handleHintMouseDown}
                            className="flex items-center justify-center px-4 py-2 bg-yellow-400 text-yellow-900 font-semibold rounded-lg shadow-sm hover:bg-yellow-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-400 transition"
                        >
                            <svg xmlns="http://www.w3.org/2000/svg" className="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z" />
                            </svg>
                            Xem gợi ý (Giữ)
                        </button>
                        {showHint && (
                            <div className="absolute bottom-full mb-2 w-full max-w-md bg-gray-800 text-white text-sm rounded-lg p-3 shadow-lg animate-fade-in">
                                {currentQuestion.hint}
                            </div>
                        )}
                    </div>

                    {isAnswered && (
                        <div className="p-4 rounded-lg animate-fade-in mb-6" style={{ backgroundColor: isCorrect ? '#f0fff4' : '#fff5f5' }}>
                            <div className="flex items-center mb-2">
                                {isCorrect ? <CheckCircleIcon /> : <XCircleIcon />}
                                <p className={`ml-3 text-lg font-bold ${isCorrect ? 'text-green-700' : 'text-red-700'}`}>
                                    {isCorrect ? 'Chính xác!' : 'Sai rồi!'}
                                </p>
                            </div>
                            <p className="text-gray-700">{currentQuestion.explanation}</p>
                        </div>
                    )}

                    {isAnswered && (
                        <button
                            onClick={handleNextQuestion}
                            className="w-full bg-blue-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-transform transform hover:scale-105 text-lg"
                        >
                            {currentQuestionIndex < questions.length - 1 ? 'Câu tiếp theo' : 'Hoàn thành'}
                        </button>
                    )}
                </div>
            </div>
        );
    }


    //=========== App ==============
    function App() {
      const [gameState, setGameState] = React.useState({
        screen: 'welcome', // welcome, quiz, results
        playerName: '',
        score: 0,
      });

      const handleStartQuiz = (name) => {
        setGameState({
          screen: 'quiz',
          playerName: name,
          score: 0,
        });
      };

      const handleFinishQuiz = (finalScore) => {
        setGameState(prevState => ({
          ...prevState,
          screen: 'results',
          score: finalScore,
        }));
      };

      const handleRestartQuiz = () => {
        setGameState({
          screen: 'welcome',
          playerName: '',
          score: 0,
        });
      };

      switch (gameState.screen) {
        case 'quiz':
          return <QuizScreen questions={quizData} onFinish={handleFinishQuiz} />;
        case 'results':
          return (
            <ResultScreen
              playerName={gameState.playerName}
              score={gameState.score}
              totalQuestions={quizData.length}
              onRestart={handleRestartQuiz}
            />
          );
        case 'welcome':
        default:
          return <WelcomeScreen onStart={handleStartQuiz} />;
      }
    }

    const container = document.getElementById('root');
    const root = ReactDOM.createRoot(container);
    root.render(<App />);

  </script>
</body>
</html>
